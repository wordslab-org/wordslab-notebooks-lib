"use strict";(self.webpackChunkwordslab_notebooks_extension=self.webpackChunkwordslab_notebooks_extension||[]).push([[509],{509:(e,t,o)=>{o.r(t),o.d(t,{default:()=>n});const n={id:"wordslab-notebooks-extension",autoStart:!0,requires:[o(766).INotebookTracker],activate:(e,t)=>{console.log("Wordslab notebooks extension activated");const o=new Map;function n(e){e.registerCommTarget("notebook_context_comm",(n,s)=>{console.log("Comm opened from kernel"),o.set(e,n),n.onMsg=e=>{if("request_cells"===e.content.data.action){const e=function(){const e=t.currentWidget;if(!e)return[];const o=e.content,n=[];for(let e=0;e<o.model.cells.length;e++){const t=o.model.cells.get(e),s={type:t.type,source:t.sharedModel.source,execution_count:null,outputs:[]};if("code"===t.type){s.execution_count=t.executionCount;const e=t.outputs;for(let t=0;t<e.length;t++){const o=e.get(t);s.outputs.push({output_type:o.type,data:o.data,text:o.text})}}n.push(s)}return n}();n.send({cells:e})}},n.onClose=()=>{o.delete(e)}})}t.currentChanged.connect(()=>{const e=t.currentWidget;if(!e)return;const s=e.sessionContext.session?.kernel;s&&(o.has(s)||n(s))});const s=t.currentWidget?.sessionContext.session?.kernel;s&&n(s)}}}}]);