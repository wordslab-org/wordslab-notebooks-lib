"use strict";(self.webpackChunkwordslab_notebooks_extension=self.webpackChunkwordslab_notebooks_extension||[]).push([[509],{509:(e,o,t)=>{t.r(o),t.d(o,{default:()=>n});const n={id:"wordslab-notebooks-extension:plugin",description:"JupyterLab extension for wordslab-notebooks",autoStart:!0,requires:[t(766).INotebookTracker],activate:(e,o)=>{var t,n;console.log("Wordslab notebooks extension activated - laps");const s=new Map;function c(e){e.registerCommTarget("notebook_context_comm",(t,n)=>{console.log("Comm opened from kernel"),s.set(e,t),t.onMsg=e=>{if("request_cells"===e.content.data.action){const e=function(){const e=o.currentWidget;if(!e)return[];const t=e.content,n=[];for(let e=0;e<t.model.cells.length;e++){const o=t.model.cells.get(e),s={type:o.type,source:o.sharedModel.source,execution_count:null,outputs:[]};if("code"===o.type){s.execution_count=o.executionCount;const e=o.outputs;for(let o=0;o<e.length;o++){const t=e.get(o);s.outputs.push({output_type:t.type,data:t.data,text:t.text})}}n.push(s)}return n}();t.send({cells:e})}},t.onClose=()=>{s.delete(e)}})}o.currentChanged.connect(()=>{var e;const t=o.currentWidget;if(!t)return;const n=null===(e=t.sessionContext.session)||void 0===e?void 0:e.kernel;n&&(s.has(n)||c(n))});const r=null===(n=null===(t=o.currentWidget)||void 0===t?void 0:t.sessionContext.session)||void 0===n?void 0:n.kernel;r&&c(r)}}}}]);